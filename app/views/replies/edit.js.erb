$('.<%= dom_id(@reply) %>').replaceWith('<%= j render 'edit', reply: @reply %>');
$('.<%= dom_id(@reply) %>').find('input.keywords').tagsinput();

$('.cancel_edit').on('click', function(){
    $('.<%= dom_id(@reply) %>').replaceWith('<%= j render 'reply', reply: @reply %>');
    $('.<%= dom_id(@reply) %>').find('input.keywords').tagsinput();
});

$('.button_preview').on('click', function (e) {
    e.preventDefault();

    $.magnificPopup.open({
        items: {
            src: "<%= j render 'preview', reply: @reply %>", // can be a HTML string, jQuery object, or CSS selector
            type: 'inline'
        },
        prependTo: $('.modals')
    });
});